import java.util.HashSet;

public class Q3_RepeatedSubsequence {
    static HashSet<String> set = new HashSet<>();
    public static void main(String[] args) {
        String str = "XYBYAXBY";
        String output = "";
        int count = 0;

        Q3_RepeatedSubsequence object = new Q3_RepeatedSubsequence();
        object.generateSubsequence(str, output);

        for(String setelement : set)
        {
            for(String tempelement : set)
            {
                       if(tempelement.compareTo(setelement + setelement) == 0)
                       {
                           count++;
                           System.out.println(setelement + "-" + tempelement);
                       }
            }
        }
        System.out.println("Total count:" + count);
    }

    public void generateSubsequence(String str, String answer) {
        if (str.length() == 0) {
           // System.out.println(answer + " ");
                for(int j=0;j<answer.length();j++)
                {
                    for(int k = 2;k<answer.length()-j+1;k++)
                    {
                        set.add(answer.substring(j,j+k));
                    }
                }
            return;
        }

        for (int i = 0; i < str.length(); i++) {
                char c = str.charAt(i);
                String left = str.substring(0, i);
                String right = str.substring(i + 1);
                String restofstring = left + right;
                generateSubsequence(restofstring, answer + c);
        }
    }
}
